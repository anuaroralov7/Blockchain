–î–∞–Ω–∞–±–µ–∫ –æ–¥–Ω–æ–≥—Ä—É–ø, [12.12.2025 00:43]
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>KBTU NFT Gallery</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.7.0/ethers.umd.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; text-align: center; padding: 20px; }
        .search-box { margin-bottom: 30px; }
        input { padding: 12px; width: 300px; border: 1px solid #ccc; border-radius: 8px; font-size: 16px; }
        .gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; max-width: 1000px; margin: 0 auto; }
        .card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); transition: 0.3s; text-align: left; border-top: 5px solid #007bff; }
        .card:hover { transform: translateY(-5px); }
        .card h3 { margin: 0 0 10px; color: #007bff; }
        .grade-badge { background: #28a745; color: white; padding: 3px 8px; border-radius: 5px; font-weight: bold; float: right; }
        #loading { font-size: 18px; color: #666; margin-top: 20px; }
        button { padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; margin-bottom: 20px; }
    </style>
</head>
<body>

    <h1>üéì Graduate NFT Gallery</h1>
    
    <button onclick="loadGallery()">üîÑ Connect Wallet & Load Gallery</button>

    <div class="search-box">
        <input type="text" id="searchInput" onkeyup="filterCertificates()" placeholder="üîç Search by Name...">
    </div>

    <div id="loading">Click the button above to load data</div>
    <div class="gallery" id="gallery"></div>

    <script>
        const contractAddress = "0x523F34abf76513D9F093Ef6088386Cc5a8Dd2Dd3"; 

        const abi = [
            "function totalSupply() view returns (uint256)",
            "function getCertificateData(uint256 tokenId) view returns (string, string, string)"
        ];

        async function loadGallery() {
            if (!window.ethereum) return alert("Please install MetaMask!");
            
            try {
                document.getElementById("loading").innerText = "Connecting to MetaMask...";
                
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º MetaMask –∫–∞–∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä (—ç—Ç–æ –Ω–∞–¥–µ–∂–Ω–æ)
                const provider = new ethers.BrowserProvider(window.ethereum);
                const contract = new ethers.Contract(contractAddress, abi, provider);

                const total = await contract.totalSupply();
                document.getElementById("loading").innerText = `Found ${total} certificates. Loading...`;
                
                const gallery = document.getElementById("gallery");
                gallery.innerHTML = ""; // –û—á–∏—Å—Ç–∫–∞

                for (let i = 0; i < total; i++) {
                    const data = await contract.getCertificateData(i);
                    createCard(i, data[0], data[1], data[2]);
                }
                document.getElementById("loading").style.display = 'none';

            } catch (e) {
                console.error(e);
                alert("Error: " + (e.reason || e.message));
                document.getElementById("loading").innerText = "Error loading data. Check console.";
            }
        }

        function createCard(id, name, program, grade) {
            const div = document.createElement("div");
            div.className = "card";
            div.setAttribute("data-search", `${name.toLowerCase()} ${program.toLowerCase()} ${grade.toLowerCase()}`);
            div.innerHTML = `
                <span class="grade-badge">${grade}</span>
                <h3>${name}</h3>
                <p><strong>Program:</strong> ${program}</p>
                <p><strong>ID:</strong> #${id}</p>
            `;
            document.getElementById("gallery").appendChild(div);
        }

function filterCertificates() {
            const input = document.getElementById("searchInput").value.toLowerCase();
            const cards = document.getElementsByClassName("card");
            for (let i = 0; i < cards.length; i++) {
                if (cards[i].getAttribute("data-search").includes(input)) {
                    cards[i].style.display = "";
                } else {
                    cards[i].style.display = "none";
                }
            }
        }
    </script>
</body>
</html>